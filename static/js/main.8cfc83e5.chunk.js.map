{"version":3,"sources":["components/LoginPage/index.module.scss","components/App/index.module.scss","index.css","../ignored /Users/kkanev/projects/react-poker/client/node_modules/readable-stream/lib util","../ignored /Users/kkanev/projects/react-poker/client/node_modules/readable-stream/lib/internal/streams util","../ignored /Users/kkanev/projects/react-poker/client/node_modules/bn.js/lib buffer","../ignored /Users/kkanev/projects/react-poker/client/node_modules/brorand crypto","../node_modules/graphql-ruby-client/dist/sync sync","Graphql.js","components/LobbyPage/index.js","components/RoomPage/TurnMenu.js","components/RoomPage/index.js","components/LoginPage/index.js","components/App/index.js","serviceWorker.js","index.js","components/RoomPage/index.module.scss"],"names":["SIGNIN_USER_MUTATON","gql","GET_ROOMS_QUERY","FULL_PLAYER_FRAGMENT","GET_ROOM_SUBSCRIPTION","MAKE_MOVE_MUTATION","LobbyPage","useQuery","data","rooms","loading","error","Error","map","room","id","name","cx","classNames","bind","styles","TurnMenu","minRaiseAmount","makeMove","useState","raiseAmount","setRaiseAmount","handleRaiseRangeChange","useCallback","e","parseInt","target","value","_e","move","bet","RoomPage","useParams","roomId","useSubscription","variables","getRoom","useMutation","_makeMove","xPlayerId","input","gameVersion","currentGame","version","window","console","log","game","moveTimeLimit","currentPlayer","isInTurn","Table","pot","smallBlind","bigBlind","players","find","player","seatNumber","boardCards","imgSlugForCard","slug","seatStyles","dealerClass","chipsClass","seatClass","infoBoxPosition","PlayerChips","betAmount","classes","blackChipValue","blueChipValue","blackChipsCount","blueChipsCount","Array","from","length","Seat","countdownSeconds","setCountdownSeconds","firstCard","cards","secondCard","useEffect","tid","setTimeout","clearTimeout","countdownClasses","red","seatClasses","seat","active","position","moneyInPot","balance","card","raised","kcard","rank","color","rankToPath","A","J","Q","K","LoginPage","onSuccessLogin","isAuthenticated","login","username","setUsername","password","setPassword","handleSubmit","preventDefault","signinUser","token","ScrollToTop","useLocation","pathname","scrollTo","App","localStorage","getItem","setIsAuthenticated","handleSuccessLogin","setItem","routeProps","isLocalhost","Boolean","location","hostname","match","register","config","process","navigator","publicUrl","URL","href","origin","addEventListener","swUrl","checkValidServiceWorker","serviceWorker","ready","then","registerValidSW","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","catch","fetch","headers","response","contentType","get","status","indexOf","unregister","reload","message","httpLink","createHttpLink","uri","hasSubscriptionOperation","definitions","query","some","kind","operation","authLink","setContext","obj","authorization","httpAuthLink","concat","cable","ActionCable","createConsumer","cableAuthLink","ActionCableLink","connectionParams","link","ApolloLink","split","apolloClient","ApolloClient","cache","InMemoryCache","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8cfc83e5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"LoginPage_main__1-3jE\"};","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 294;","import { gql } from '@apollo/client';\n\nconst SIGNIN_USER_MUTATON = gql`\n  mutation($username: String!, $password: String!) {\n    signinUser(input: { username: $username, password: $password }) {\n      userId\n      token\n    }\n  }\n`;\n\nconst GET_ROOMS_QUERY = gql`\n  query GetRooms {\n    rooms {\n      id\n      name\n    }\n  }\n`;\n\nconst FULL_PLAYER_FRAGMENT = gql`\n  fragment FullPlayer on Player {\n    id\n    name\n    active\n    isInTurn\n    avatarUrl\n    balance\n    moneyInPot\n    position\n    seatNumber\n    cards {\n      rank\n      color\n    }\n  }\n`;\n\nconst GET_ROOM_SUBSCRIPTION = gql`\n  subscription($roomId: ID!) {\n    getRoom(roomId: $roomId) {\n      moveTimeLimit\n      currentGame {\n        version\n        currentPlayer {\n          ...FullPlayer\n        }\n        currentStage\n        isFinished\n        smallBlind\n        bigBlind\n        pot\n        boardCards {\n          rank\n          color\n        }\n        players {\n          ...FullPlayer\n        }\n      }\n    }\n  }\n\n  ${FULL_PLAYER_FRAGMENT}\n`;\n\nconst MAKE_MOVE_MUTATION = gql`\n  mutation($input: MakeMoveInput!) {\n    makeMove(input: $input) {\n      success\n    }\n  }\n`;\n\nexport { GET_ROOMS_QUERY, SIGNIN_USER_MUTATON, GET_ROOM_SUBSCRIPTION, MAKE_MOVE_MUTATION };\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useQuery } from '@apollo/client';\n\nimport { GET_ROOMS_QUERY } from '../../Graphql';\n\nconst LobbyPage = () => {\n  const { data: { rooms } = {}, loading, error } = useQuery(GET_ROOMS_QUERY);\n\n  if (error) {\n    throw new Error(error);\n  }\n\n  if (loading) {\n    return <div>Loading...</div>;\n  }\n\n  return (\n    <div>\n      <ul>\n        {rooms.map((room) => {\n          return (\n            <li key={room.id}>\n              <Link to={`rooms/${room.id}`}> Room /{room.name}/ </Link>\n            </li>\n          );\n        })}\n      </ul>\n    </div>\n  );\n};\n\nexport default LobbyPage;\n","import React, { useCallback, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames/bind';\n\nimport styles from './index.module.scss';\n\nconst cx = classNames.bind(styles);\n\nconst TurnMenu = ({ minRaiseAmount, makeMove }) => {\n  const [raiseAmount, setRaiseAmount] = useState(minRaiseAmount);\n  const handleRaiseRangeChange = useCallback((e) => {\n    setRaiseAmount(parseInt(e.target.value, 10));\n  }, []);\n\n  return (\n    <div className={cx('turn-menu')}>\n      <div className={cx('raise-amount-row')}>\n        <input value={raiseAmount} size=\"5\" onChange={handleRaiseRangeChange} />\n        <input\n          type=\"range\"\n          id=\"raise-range\"\n          name=\"raise-range\"\n          value={raiseAmount}\n          onChange={handleRaiseRangeChange}\n          min={minRaiseAmount}\n          max=\"1000\"\n        />\n      </div>\n      <div className={cx('buttons-row')}>\n        <button type=\"button\" className={cx('fold')} onClick={(_e) => makeMove({ move: 'fold' })}>\n          Fold\n        </button>\n        <button type=\"button\" className={cx('call')} onClick={(_e) => makeMove({ move: 'call' })}>\n          Call\n        </button>\n        <button\n          type=\"button\"\n          className={cx('raise')}\n          onClick={() => makeMove({ move: 'raise', bet: raiseAmount })}\n        >\n          Raise {raiseAmount}\n        </button>\n      </div>\n    </div>\n  );\n};\n\nTurnMenu.propTypes = {\n  minRaiseAmount: PropTypes.number.isRequired,\n  makeMove: PropTypes.func.isRequired,\n};\n\nexport default TurnMenu;\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useMutation, useSubscription } from '@apollo/client';\nimport classNames from 'classnames/bind';\nimport { useParams } from 'react-router-dom';\n\nimport TurnMenu from './TurnMenu';\nimport { GET_ROOM_SUBSCRIPTION, MAKE_MOVE_MUTATION } from '../../Graphql';\nimport styles from './index.module.scss';\n\nconst cx = classNames.bind(styles);\n\nconst RoomPage = () => {\n  const { roomId } = useParams();\n  const { data: { getRoom } = {}, loading, error } = useSubscription(GET_ROOM_SUBSCRIPTION, {\n    variables: { roomId },\n  });\n\n  const [_makeMove] = useMutation(MAKE_MOVE_MUTATION);\n\n  const makeMove = ({ move, bet, xPlayerId }) => {\n    _makeMove({\n      variables: { input: { gameVersion: getRoom.currentGame.version, move, bet, xPlayerId } },\n    });\n  };\n\n  // Hack for development\n  // TODO: Replace this with something more sophisticated\n  window.makeMove = makeMove;\n\n  if (error) {\n    throw new Error(error);\n  }\n\n  if (loading) {\n    console.log('Loading...');\n    return 'Loading...';\n  }\n\n  const { currentGame: game, moveTimeLimit } = getRoom;\n\n  return (\n    <div className={cx('room')}>\n      <Table game={game} moveTimeLimit={moveTimeLimit} />\n      <div className={cx('footer')}>\n        <div />\n        {game.currentPlayer?.isInTurn && <TurnMenu minRaiseAmount={200} makeMove={makeMove} />}\n      </div>\n    </div>\n  );\n};\n\nconst CardType = {\n  color: PropTypes.string,\n  rank: PropTypes.string.isRequired,\n};\n\nconst PlayerType = PropTypes.shape({\n  id: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  seatNumber: PropTypes.number.isRequired,\n  active: PropTypes.bool.isRequired,\n  isInTurn: PropTypes.bool.isRequired,\n  cards: PropTypes.arrayOf(CardType),\n  position: PropTypes.string.isRequired,\n  balance: PropTypes.number.isRequired,\n  moneyInPot: PropTypes.number.isRequired,\n});\n\nTable.propTypes = {\n  game: PropTypes.shape({\n    pot: PropTypes.number.isRequired,\n    smallBlind: PropTypes.number.isRequired,\n    bigBlind: PropTypes.number.isRequired,\n    currentPlayer: PlayerType,\n    players: PropTypes.arrayOf(PlayerType),\n    boardCards: PropTypes.arrayOf(CardType),\n  }),\n  moveTimeLimit: PropTypes.number.isRequired,\n};\n\nfunction Table({ game, moveTimeLimit }) {\n  console.log(game);\n\n  return (\n    <div className={cx('table')}>\n      <div>\n        <p>Pot: ${game.pot}</p>\n        <p>Small blind: ${game.smallBlind}</p>\n        <p>Big blind: ${game.bigBlind}</p>\n        <p>Player in turn: {game.players.find(({ isInTurn }) => isInTurn).id}</p>\n      </div>\n      {game.players.map((player) => {\n        if (game?.currentPlayer?.id === player.id) {\n          return (\n            <Seat\n              key={player.seatNumber}\n              player={game.currentPlayer}\n              smallBlind={game.smallBlind}\n            />\n          );\n        }\n        return (\n          <Seat\n            key={player.seatNumber}\n            player={player}\n            smallBlind={game.smallBlind}\n            moveTimeLimit={moveTimeLimit}\n          />\n        );\n      })}\n      <div className={cx('common-cards')}>\n        {game.boardCards.map(imgSlugForCard).map((slug) => (\n          <img className={cx('card')} src={`/cards/${slug}.png`} alt={slug} />\n        ))}\n      </div>\n    </div>\n  );\n}\n\nconst seatStyles = {\n  0: {\n    dealerClass: 'dealer-bottom-right',\n    chipsClass: 'chips-bottom-right',\n    seatClass: 'bottom-right',\n    infoBoxPosition: 'left',\n  },\n  1: {\n    dealerClass: 'dealer-middle-right',\n    chipsClass: 'chips-middle-right',\n    seatClass: 'middle-right',\n    infoBoxPosition: 'center',\n  },\n  2: {\n    dealerClass: 'dealer-top-right',\n    chipsClass: 'chips-top-right',\n    seatClass: 'top-right',\n    infoBoxPosition: 'right',\n  },\n  3: {\n    dealerClass: 'dealer-top-left',\n    chipsClass: 'chips-top-left',\n    seatClass: 'top-left',\n    infoBoxPosition: 'right',\n  },\n  4: {\n    dealerClass: 'dealer-middle-left',\n    chipsClass: 'chips-middle-left',\n    seatClass: 'middle-left',\n    infoBoxPosition: 'center',\n  },\n  5: {\n    dealerClass: 'dealer-bottom-left',\n    chipsClass: 'chips-bottom-left',\n    seatClass: 'bottom-left',\n    infoBoxPosition: 'left',\n  },\n};\n\nPlayerChips.propTypes = {\n  smallBlind: PropTypes.number.isRequired,\n  betAmount: PropTypes.number.isRequired,\n  classes: PropTypes.arrayOf(PropTypes.string).isRequired,\n};\nfunction PlayerChips({ smallBlind, betAmount, classes }) {\n  const blackChipValue = 10 * smallBlind;\n  const blueChipValue = smallBlind;\n\n  const blackChipsCount = parseInt(betAmount / blackChipValue, 10);\n  const blueChipsCount = parseInt(\n    (betAmount - blackChipsCount * blackChipValue) / blueChipValue,\n    10\n  );\n\n  return (\n    <div className={cx(['chips-container', ...classes])}>\n      <div className={cx('chip-column')}>\n        {!!blackChipsCount &&\n          Array.from({ length: blackChipsCount }, () => (\n            <img src=\"/chips/chip-black.png\" alt=\"blue-chip\" className={cx('chip')} />\n          ))}\n      </div>\n      <div className={cx('chip-column')}>\n        {!!blueChipsCount &&\n          Array.from({ length: blueChipsCount }, () => (\n            <img src=\"/chips/chip-blue.png\" alt=\"blue-chip\" className={cx('chip')} />\n          ))}\n      </div>\n    </div>\n  );\n}\n\nSeat.propTypes = {\n  player: PlayerType,\n  smallBlind: PropTypes.bool.isRequired,\n  moveTimeLimit: PropTypes.number.isRequired,\n};\nfunction Seat({ player, smallBlind, moveTimeLimit }) {\n  const [countdownSeconds, setCountdownSeconds] = useState(moveTimeLimit);\n  const firstCard = player.cards[0];\n  const secondCard = player.cards[1];\n\n  useEffect(() => {\n    if (!player.isInTurn) {\n      setCountdownSeconds(moveTimeLimit);\n      return () => {};\n    }\n\n    if (countdownSeconds <= 0) return () => {};\n\n    const tid = setTimeout(() => {\n      setCountdownSeconds(countdownSeconds - 0.5);\n    }, 500);\n\n    return () => {\n      clearTimeout(tid);\n    };\n  }, [player.isInTurn, countdownSeconds]);\n\n  const { seatClass, infoBoxPosition, dealerClass, chipsClass } = seatStyles[player.seatNumber];\n  const countdownClasses = cx({ 'time-bar': true, red: countdownSeconds < 3 });\n  const seatClasses = cx({ seat: true, [seatClass]: true, inactive: !player.active });\n\n  return (\n    <div key={player.id}>\n      {player.position === 'D' && (\n        <img\n          src=\"/chips/chip-dealer.png\"\n          alt=\"dealer-chip\"\n          className={cx('dealer-chip', dealerClass)}\n        />\n      )}\n      <PlayerChips classes={[chipsClass]} smallBlind={smallBlind} betAmount={player.moneyInPot} />\n      <div className={seatClasses}>\n        <div className={cx('avatar')}>\n          {' '}\n          <img src=\"/avatars/business-man-avatar.png\" alt=\"business-man-avatar\" />{' '}\n        </div>\n        <div className={cx('info-box', infoBoxPosition)}>\n          <span>{player.name}</span>\n          <span>${player.balance}</span>\n          <div className={cx('cards-wrapper')}>\n            <img\n              src={`/cards/${imgSlugForCard(firstCard)}.png`}\n              alt={imgSlugForCard(firstCard)}\n              className={cx({ card: true, raised: !!firstCard })}\n            />\n            <img\n              src={`/cards/${imgSlugForCard(secondCard)}.png`}\n              alt={imgSlugForCard(firstCard)}\n              className={cx({ kcard: true, raised: !!secondCard })}\n            />\n          </div>\n          {player.isInTurn ? (\n            <progress\n              value={countdownSeconds * 2}\n              max={moveTimeLimit * 2}\n              className={countdownClasses}\n            />\n          ) : null}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nconst imgSlugForCard = ({ rank, color }) => {\n  if (rank === 'hidden') return 'back';\n\n  const rankToPath = {\n    A: '1',\n    J: 'jack',\n    Q: 'queen',\n    K: 'king',\n  };\n\n  return `${color}_${rankToPath[rank] || rank}`;\n};\n\nexport default RoomPage;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames/bind';\nimport { useMutation } from '@apollo/client';\nimport { Redirect } from 'react-router-dom';\n\nimport styles from './index.module.scss';\nimport { SIGNIN_USER_MUTATON } from '../../Graphql';\n\nconst cx = classNames.bind(styles);\n\nconst LoginPage = ({ onSuccessLogin, isAuthenticated }) => {\n  const [login] = useMutation(SIGNIN_USER_MUTATON);\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const { data: { signinUser: { token } = {} } = {}, error } = await login({\n      variables: { username, password },\n    });\n\n    if (error) {\n      console.error(error);\n      return;\n    }\n\n    onSuccessLogin(token);\n  };\n\n  if (isAuthenticated) return <Redirect to=\"/\" />;\n\n  return (\n    <div className={cx('main')}>\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          placeholder=\"username\"\n          value={username}\n          onChange={(e) => {\n            setUsername(e.target.value);\n          }}\n        />\n        <input\n          type=\"password\"\n          placeholder=\"password\"\n          value={password}\n          onChange={(e) => {\n            setPassword(e.target.value);\n          }}\n        />\n        <button type=\"submit\"> Login </button>\n      </form>\n    </div>\n  );\n};\n\nLoginPage.propTypes = {\n  onSuccessLogin: PropTypes.func.isRequired,\n  isAuthenticated: PropTypes.bool.isRequired,\n};\n\nexport default LoginPage;\n","import React, { Suspense, useEffect, useState } from 'react';\nimport { BrowserRouter as Router, Route, Switch, Redirect, useLocation } from 'react-router-dom';\nimport classNames from 'classnames/bind';\n\nimport LobbyPage from '../LobbyPage';\nimport RoomPage from '../RoomPage';\nimport LoginPage from '../LoginPage';\n\nimport styles from './index.module.scss';\n\nconst cx = classNames.bind(styles);\n\nconst ScrollToTop = () => {\n  const { pathname } = useLocation();\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [pathname]);\n\n  return null;\n};\n\nconst App = () => {\n  // TODO: handle outdated tokens\n  const [isAuthenticated, setIsAuthenticated] = useState(!!localStorage.getItem('token'));\n\n  const handleSuccessLogin = (token) => {\n    localStorage.setItem('token', token);\n    setIsAuthenticated(true);\n  };\n\n  return (\n    <div className={cx('main')}>\n      <Router basename=\"/re-poker\">\n        <ScrollToTop />\n        <Suspense fallback={<div>Loading...</div>}>\n          <Switch>\n            <Route\n              exact\n              path=\"/login\"\n              render={(routeProps) => (\n                <LoginPage\n                  onSuccessLogin={handleSuccessLogin}\n                  isAuthenticated={isAuthenticated}\n                  {...routeProps}\n                />\n              )}\n            />\n            <Route\n              path=\"/\"\n              exact\n              render={(routeProps) =>\n                isAuthenticated ? <LobbyPage {...routeProps} /> : <Redirect to=\"/login\" />\n              }\n            />\n            <Route\n              path=\"/rooms/:roomId\"\n              exact\n              render={(routeProps) =>\n                isAuthenticated ? <RoomPage {...routeProps} /> : <Redirect to=\"/login\" />\n              }\n            />\n          </Switch>\n        </Suspense>\n      </Router>\n    </div>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      /* eslint no-param-reassign: [\"error\", { \"props\": false }] */\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport ActionCable from 'actioncable';\nimport { ActionCableLink } from 'graphql-ruby-client';\nimport {\n  ApolloLink,\n  ApolloProvider,\n  createHttpLink,\n  ApolloClient,\n  InMemoryCache,\n} from '@apollo/client';\nimport { setContext } from '@apollo/client/link/context';\n\nimport App from './components/App';\n\nimport * as serviceWorker from './serviceWorker';\n\nconst httpLink = createHttpLink({\n  uri: process.env.REACT_APP_GRAPHQL_URL,\n});\n\nconst hasSubscriptionOperation = ({ query: { definitions } }) => {\n  return definitions.some(\n    ({ kind, operation }) => kind === 'OperationDefinition' && operation === 'subscription'\n  );\n};\n\nconst authLink = setContext((obj, { headers }) => {\n  const token = localStorage.getItem('token');\n\n  return {\n    headers: {\n      ...headers,\n      authorization: token ? `Bearer ${token}` : '',\n    },\n  };\n});\n\nconst httpAuthLink = authLink.concat(httpLink);\n\n// TODO: Send the token dynamically\nconst token = localStorage.getItem('token');\n\nconst cable = ActionCable.createConsumer(process.env.REACT_APP_WS_URL);\nconst cableAuthLink = authLink.concat(new ActionCableLink({ cable, connectionParams: { token } }));\n\nconst link = ApolloLink.split(hasSubscriptionOperation, cableAuthLink, httpAuthLink);\n\n// Initialize the client\nconst apolloClient = new ApolloClient({\n  link,\n  cache: new InMemoryCache(),\n});\n\nReactDOM.render(\n  <ApolloProvider client={apolloClient}>\n    <App />\n  </ApolloProvider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"room\":\"RoomPage_room__31QOV\",\"table\":\"RoomPage_table__3G9fA\",\"dealer-chip\":\"RoomPage_dealer-chip__oUxPd\",\"dealer-top-right\":\"RoomPage_dealer-top-right__3x5oI\",\"dealer-top-left\":\"RoomPage_dealer-top-left__3d6of\",\"dealer-middle-right\":\"RoomPage_dealer-middle-right__1LDVE\",\"dealer-middle-left\":\"RoomPage_dealer-middle-left__2zM80\",\"dealer-bottom-right\":\"RoomPage_dealer-bottom-right__3NCZm\",\"dealer-bottom-left\":\"RoomPage_dealer-bottom-left__2GY36\",\"chips-container\":\"RoomPage_chips-container__ye1MQ\",\"chip-column\":\"RoomPage_chip-column__3QP8B\",\"chip\":\"RoomPage_chip__3tF38\",\"chips-top-right\":\"RoomPage_chips-top-right__7q9rL\",\"chips-top-left\":\"RoomPage_chips-top-left__1JlA2\",\"chips-middle-right\":\"RoomPage_chips-middle-right__36UZE\",\"chips-middle-left\":\"RoomPage_chips-middle-left__1NPiL\",\"chips-bottom-right\":\"RoomPage_chips-bottom-right__2eB1v\",\"chips-bottom-left\":\"RoomPage_chips-bottom-left__JIjfe\",\"common-cards\":\"RoomPage_common-cards__3MJJv\",\"card\":\"RoomPage_card__3z3yr\",\"seat\":\"RoomPage_seat__2nDCN\",\"inactive\":\"RoomPage_inactive__30FxZ\",\"info-box\":\"RoomPage_info-box__aeFyN\",\"cards-wrapper\":\"RoomPage_cards-wrapper__wU4bP\",\"top-right\":\"RoomPage_top-right__EJzfm\",\"top-left\":\"RoomPage_top-left__2lONB\",\"middle-right\":\"RoomPage_middle-right__2505e\",\"middle-left\":\"RoomPage_middle-left__1FsQh\",\"bottom-right\":\"RoomPage_bottom-right__3Fn77\",\"bottom-left\":\"RoomPage_bottom-left__1XbLa\",\"avatar\":\"RoomPage_avatar__3JHpS\",\"time-bar\":\"RoomPage_time-bar__2qpv8\",\"animate-stripes\":\"RoomPage_animate-stripes__3gSYV\",\"red\":\"RoomPage_red__kEhWf\",\"pulse\":\"RoomPage_pulse__1_oju\",\"raised\":\"RoomPage_raised__3VY_H\",\"center\":\"RoomPage_center__1DlZo\",\"left\":\"RoomPage_left__COpqe\",\"right\":\"RoomPage_right__3bBty\",\"footer\":\"RoomPage_footer__1RpJG\",\"turn-menu\":\"RoomPage_turn-menu__JX3sC\",\"raise-amount-row\":\"RoomPage_raise-amount-row__3kl_F\",\"buttons-row\":\"RoomPage_buttons-row__ZlY1o\"};"],"sourceRoot":""}